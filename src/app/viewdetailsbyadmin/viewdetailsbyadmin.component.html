<div class="viewdetailsbyadmin">


<div class="card" style="width: 55rem;" >
  
    <div class="card-body" *ngFor="let userpro of userprofile">
    <h1 class="card-title">Welcome {{userpro.First_name}}</h1>
    <h3 class="card-text">Your UserProfile</h3>
    
    </div>
    
    <div class="panel panel-default" >
      <div class="panel-body" *ngFor="let userpro of userprofile">
          <h1 class="welcome"></h1>
          <h3 class="details">
            <table class="table">
              
              <tbody>
                <tr>
                  <th scope="row">Employee Id:</th>
                  <td> {{userpro.Employee_id}} </td> 
                               
                </tr>
                <tr>
                  <th scope="row">Name:</th>
                  <td>{{userpro.First_Name}} {{userpro.Last_Name}}</td>               
                </tr>
               
                <tr>
                  <th scope="row">Role: </th>
                  <td> {{userpro.Role}}</td>               
                </tr>
                <tr>
                    <th scope="row">Age: </th>
                    <td> {{userpro.Age}}</td>               
                  </tr>
                  <tr>
                    <th scope="row">Gender: </th>
                    <td> {{userpro.Gender}}</td>               
                  </tr>
                  <tr>
                    <th scope="row">Date Of Birth: </th>
                    <td> {{userpro.DOB | date}}</td>               
                  </tr>
                <tr>
                  <th scope="row">Email id:</th>
                  <td>{{userpro.Email_id}}</td>               
                </tr>
                <tr>
                  <th scope="row">Address:</th>
                  <td>{{userpro.Address}}</td>               
                </tr>
                <tr>
                  <th scope="row">City:</th>
                  <td>{{userpro.City}}</td>               
                </tr>
                <tr>
                  <th scope="row">State: </th>
                  <td>{{userpro.State}}</td>               
                </tr>
                <tr>
                  <th scope="row">Pincode</th>
                  <td>{{userpro.Pincode}}</td>               
                </tr>
               
              </tbody>
            </table>
          
          <br/>
        </h3>
        <!-- <button type="button" class="btn btn-primary" (click)="ShowFormGroup()">Edit Details</button> -->
    </div>
    
  </div>
  <div class="card-body" *ngFor="let departmentandunit of departmentandunitnames">
    <table class="table">              
      <tbody>
        <tr>
          <th scope="row">Department Name:</th>
          <td>{{departmentandunit.Department_Name}}</td>               
        </tr>
        <tr>
          <th scope="row">Unit Name:</th>
          <td> {{departmentandunit.Unit_Name}}</td>               
        </tr>
       
      </tbody>
    </table>
    
  </div>
  <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" (click)="ShowFormGroup()">Edit Details</button>



</div>
  

<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title" id="exampleModalLabel">Update the Details here.</h3>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="form-group" *ngIf="formGroup">
     
          <form novalidate
          (ngSubmit)="save(signupForm)"
          #signupForm="ngForm">    
      
            <!-- Role Field -->
      
            <label>Role</label>      
            <div class="form-group">
             <input type="role" [(ngModel)]="employeedetails.Role" name="role" placeholder="" class="form-control" required #role="ngModel" pattern="^[A-Z a-z]*$" />
             
             <div *ngIf=" role.invalid && (role.dirty || role.touched)" class="alert alert-danger">
               <div *ngIf="role.errors.required"> Role is required. </div>
               <div *ngIf="role.errors.pattern">Enter Role in correct format</div>
             </div>
            </div>

            
            <!--   Immediate Manager Field -->
            <label>Immediate Manager</label>
            &nbsp;&nbsp;&nbsp;
            <select [(ngModel)]="selectedWorkingUnder" name="workingunder">
                <option value></option>
                <option *ngFor="let c of AllEmployeeIds" [ngValue]="c">{{c}}</option>
                
              </select>
            
        <br>
        <br>

            
      
          <!--   Department Name Field -->
          <label>Department Name</label>
          &nbsp;&nbsp;&nbsp;
          <select [(ngModel)]="selectedDepartmentName" name="department">
              <option value></option>
              <option *ngFor="let c of AllDepartmentNames" [ngValue]="c">{{c.Department_name}}</option>
              
            </select>
          
      <br>
      <br>
            <!-- Unit Name Field -->
      
            <label>Unit Name</label>
            &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <select [(ngModel)]="selectedBusinessUnitName" name="businessunit" > 
                <option value>{{selectedBusinessUnitName}}</option>
                <option *ngFor="let c of AllBusinessUnitNames" [ngValue]="c">{{c.Unit_Name}}</option>
              </select> 
              <br><br>
            <button type="submit" class="btn btn-primary"  [disabled]="!signupForm.valid" (click)= "EditDetails()">Save </button> 
            </form>
        </div>
      </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
  
 
